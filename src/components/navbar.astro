---
import Menu from "@lucide/astro/icons/menu"
---

<header>
	<a href="/">{Astro.site?.hostname}</a>
	<button popovertarget="navbar" title="Menu">
		<Menu />
	</button>

	<nav popover id="navbar">
		<div class="desc">
			<p>things i made</p>
			<p>i write too</p>
			<p>bookmarks and etc</p>
		</div>
		<div class="links">
			<a href="/projects">/projects</a>
			<a href="/blog">/blog</a>
			<a href="/reading">/reading</a>
		</div>
	</nav>
</header>

<style>
	header {
		display: flex;
		justify-content: space-between;
		border-bottom: 1px solid var(--bg-secondary);
		margin: 0 0 2em;
		padding: 1em 3ch;
		background-color: var(--bg);
		position: sticky;
		top: 0;
	}

	button {
		all: unset;
		cursor: pointer;

		&:hover {
			color: var(--primary);
		}
	}

	nav p {
		margin: 0;
	}

	.links, .desc {
		display: flex;
		flex-direction: column;
		gap: 1em;
	}

	.desc {
		display: none;
	}

	#navbar[popover] {
		transition: opacity 0.2s, transform 0.2s, display 0.2s allow-discrete;
		transform: translateY(-1rem);
		opacity: 0;

		top: 3.5em;
		color: var(--secondary);
		background-color: var(--bg);
		box-shadow: 0 0.5em 1em -1em rgba(0, 0, 0, 0.5);
		justify-content: space-between;
		border: none;
		width: 100%;
		max-width: 80ch;
		margin: 0 auto;
		padding: 1em 3ch 2em;
	}

	#navbar:popover-open {
		display: flex;
		border-bottom: 1px solid var(--bg-secondary);

		opacity: 1;
		transform: none;

		@starting-style {
			& {
				opacity: 0;
				transform: translateY(-1rem);
			}
		}
	}

	@media (width >= 425px) {
		.desc {
			display: flex;
		}

		.links {
			text-align: right;
		}
	}
</style>
